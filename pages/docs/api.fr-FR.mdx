import { Callout } from 'nextra-theme-docs'

# API

```js
const { data, error, isLoading, isValidating, mutate } = useSWR(key, fetcher, options)
```

## Param√®tres [#parameters]

- `key`: une cha√Æne de caract√®res unique pour la requ√™te (ou une fonction / tableau / null) [(d√©tails)](/docs/arguments), [(utilisation avanc√©e)](/docs/conditional-fetching)
- `fetcher`: (_facultatif_) une fonction retournant une promesse pour r√©cup√©rer vos donn√©es [(d√©tails)](/docs/data-fetching)
- `options`: (_facultatif_) un objet d'options pour ce hook SWR

## Valeurs retourn√©es [#return-values]

- `data`: donn√©es pour la cl√© donn√©e r√©solue par `fetcher` (ou undefined si non charg√©)
- `error`: erreur renvoy√©e par `fetcher` (ou undefined)
- `isLoading`: si une requ√™te est en cours et qu'aucune "donn√©e charg√©e" n'est disponible. Les donn√©es de secours et les donn√©es pr√©c√©dentes ne sont pas consid√©r√©es comme des "donn√©es charg√©es"
- `isValidating`: s'il y a une requ√™te ou une revalidation en cours de chargement
- `mutate(data?, options?)`: fonction pour muter la donn√©e mise en cache [(d√©tails)](/docs/mutation)

Plus d'informations [ici](/docs/advanced/understanding).

## Options [#options]

- `suspende = false`: activer le mode React Suspense [(d√©tails)](/docs/suspense)
- `fetcher(args)`: la fonction fetcher
- `revalidateIfStale = true`: revalider automatiquement m√™me s'il y a des donn√©es obsol√®tes [(d√©tails)](/docs/revalidation#disable-automatic-revalidations)
- `revalidateOnMount`: activer ou d√©sactiver la revalidation automatique lorsque le composant est mont√©
- `revalidateOnFocus = true`: revalider automatiquement lorsque la fen√™tre est mise au premier plan [(d√©tails)](/docs/revalidation)
- `revalidateOnReconnect = true`: revalider automatiquement lorsque le navigateur retrouve une connexion r√©seau (via `navigator.onLine`) [(d√©tails)](/docs/revalidation)
- `refreshInterval` [(d√©tails)](/docs/revalidation):
  - D√©sactiv√© par d√©faut: `refreshInterval = 0`
  - Si d√©fini sur un nombre, intervalle de sondage en millisecondes
  - Si d√©fini sur une fonction, la fonction recevra les derni√®res donn√©es et devrait renvoyer l'intervalle en millisecondes
- `refreshWhenHidden = false`: actualiastion lorsque la fen√™tre est invisible (si `refreshInterval` est activ√©)
- `refreshWhenOffline = false`: actualisation lorsque le navigateur est hors ligne (d√©termin√© par `navigator.onLine`)
- `shouldRetryOnError = true`: r√©essayer lorsque le fetcher a une erreur
- `dedupingInterval = 2000`: d√©dupliquer les requ√™tes avec la m√™me cl√© dans cette p√©riode de temps en millisecondes
- `focusThrottleInterval = 5000`: ne revalider qu'une seule fois pendant une p√©riode de temps en millisecondes
- `loadingTimeout = 3000`: d√©lai d'attente pour d√©clencher l'√©v√©nement onLoadingSlow en millisecondes
- `errorRetryInterval = 5000`: intervalle avant la nouvelle tentative en millisecondes
- `errorRetryCount`: nombre maximal de tentatives d'erreur
- `fallback`: un objet cl√©-valeur de plusieurs donn√©es de secours [(exemple)](/docs/with-nextjs)
- `fallbackData`: donn√©es initiales √† renvoyer (note : ceci est per-hook)
- `keepPreviousData = false`: renvoyer les donn√©es de la cl√© pr√©c√©dente jusqu'√† ce que les nouvelles donn√©es soient charg√©es [(d√©tails)](/docs/advanced/understanding#return-previous-data-for-better-ux)
- `onLoadingSlow(key, config)`: fonction de rappel lorsqu'une requ√™te prend trop de temps √† charger (voir `loadingTimeout`)
- `onSuccess(data, key, config)`: fonction de rappel lorsqu'une requ√™te se termine avec succ√®s
- `onError(err, key, config)`: fonction de rappel lorsqu'une requ√™te renvoie une erreur
- `onErrorRetry(err, key, config, revalidate, revalidateOps)`: gestionnaire des nouvelles tentatives d'erreur
- `onDiscarded(key)`: fonction de rappel lorsqu'une requ√™te est ignor√©e en raison de conditions de course
- `compare(a, b)`: fonction de comparaison utilis√©e pour d√©tecter quand les donn√©es renvoy√©es ont chang√©, pour √©viter les rendus superflus. Par d√©faut, [stable-hash](https://github.com/shuding/stable-hash) est utilis√©.
- `isPaused()`: fonction pour d√©tecter si les revalidations sont en pause, ignorera les donn√©es r√©cup√©r√©es et les erreurs lorsqu'elle renvoie `true`. Renvoie `false` par d√©faut.
- `use`: tableau de fonctions middleware [(d√©tails)](/docs/middleware)

<Callout emoji="üí°">
  Lorsque vous avez un r√©seau lent (2G, {'<='} 70Kbps), <code>errorRetryInterval</code> sera de 10s, et{' '}
  <code>loadingTimeout</code> sera de 5s par d√©faut.
</Callout>

Vous pouvez √©galement utiliser [la configuration globale](/docs/global-configuration) pour fournir des options par d√©faut.
